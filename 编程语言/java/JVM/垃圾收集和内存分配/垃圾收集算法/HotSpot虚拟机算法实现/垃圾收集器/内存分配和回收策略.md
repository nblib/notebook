内存分配和回收策略
===

### 优先在Eden分配
大多数情况下,新生对象在Eden分配,当Eden大小不足以分配时,触发一次Minor GC.
### 大对象直接进入老年代
打对象指,需要连续空间的对象,比如长的字符串或数组之类,经常出现大对象,容易导致内存还有空间,就需要触发垃圾收集动作.
### 长期存活的对象直接进入老年代
给每个对象定义了一个年龄计数器,如果对象在Eden中出生,并且经过一次Minor GC后还存活,并且能被Survivor容纳,将被移动到Survivor中,年龄设为1,没熬过一次Minor GC就会加一岁,当年龄到一定程度(默认15岁)就会被移动到老年代.
### 动态年龄判定
如果Survivor中的相同年龄的对象数量大于Survivor空间一半,那么大于或等于这个年龄的对象就会被移动到老年代,不用等到到达最大年龄.
### 空间分配担保
在Minor GC之前先看老年代最大可用连续空间是否大于新生代所有对象的空间,大于的话就Minor GC,否则查看是否允许分配担保,如果允许,就看老年代剩余的空间是否大于历次晋升到老年代的对象大小,大于就尝试Minor GC,否则,或者不允许担保,就直接执行Full GC