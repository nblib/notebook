#插件列表
* 自定义监控
* URL重定向
* URL重写
* Basic Auth(基本认证)
* Key Auth(关键字认证)
* Signature Auth(签名认证)
* Rate Limiting 访问限速
* Property Rate Limiting 访问限速,防刷
* WAF 防火墙
* 代理 & 分流 & ABTesting

### 自定义监控
######作用
针对指定的请求地址,主机,客户端IP,请求头,请求引用,代理,参数等条件进行监控,获取统计数据报表
###### 使用方法
* 启动监控
* 添加选择器(勾选启动框)
* 添加规则(勾选启动框)
* 查看视图
![界面](../img/nginx/nginx_lua/orange/自定义监控.png)
### URL重定向
######作用
301,302的重定向,
###### 使用方法
可参考[URL重定向插件使用示例](http://orange.sumory.com/docs/usages/redirect/)
### URL重写
######作用
内部重定向,客户端地址栏不变,
###### 使用方法
可参考[URI重写插件使用示例](http://orange.sumory.com/docs/usages/rewrite/)
### Basic Auth(基本认证)
######作用
基于Basic Auth的简单认证,客户端请求的时候,需要再请求头中添加认证信息,即配置的用户名和密码
######使用方法
* 开启插件,添加一个规则,设置用户名和密码
* 客户端请求时将用户名和密码`用户名:密码`使用base64编码后,放到请求头中的`Authorization`
* 服务端收到后验证是否正确
### Key Auth(关键字认证)
######作用
通过获取请求地址,主机,客户端IP,请求头,请求引用,代理,参数等条件中的值来进行验证,比如要求请求头中包含`ni->wo`的键值对,那么如果请求头中没有的话,就会验证失败.
######使用方法
* 添加一个规则,设置关键字的位置,比如:查询条件,请求头等
* 比如设置在请求头中,必须包含键值对:`aaa:bbb`
* 请求的时候,必须在请求头中添加如上键值对,不然拒绝访问
![关键字认证](../img/nginx/nginx_lua/orange/关键字认证.png)
### Signature Auth(签名认证)
采用md5加密请求参数,进行验证,可参考[Signature Auth(签名认证)](https://github.com/sumory/orange/issues/72)
### Rate Limiting (访问限速)
######作用
根据指定的条件对访问进行限制,比如1秒可以请求多少次等.
######使用方法
* 添加一个规则,比如添加一个规则,拦截ip为`119.119.22.2`的访问
* 设置请求限制,比如限制1秒可以访问3次
* 当这个ip访问时,当一秒内访问四次,第四次回返回空.
### Property Rate Limiting (访问限速,防刷)
###### 作用
根据属性值进行限制访问速度,比如,限制相同的ip访问次数,限制相同的参数,相同的请求头的访问次数,等等.主要用于防止相同的请求多
次访问.比如"/user/info?id=2323",配置对参数"id"限速一分钟2次,那么"id=2323"一分钟内访问第三次的时候就会返回429状态码.如果
改为"id=2324",那么又可以访问.
###### 使用方法

### WAF (防火墙)
对指定条件进行拒绝访问,和限速一样,只不过这里是拒绝访问.
### (代理)(分流)ABTesting
将指定的条件请求交由设置的upstream处理.和`proxy_pass`命令差不多
###### 使用方法
* 设置 拦截url为"/user"的请求
* 设置处理方式为`upstream`主机不用填写,`upstream`uri为nginx配置文件中存在的一个upstream,和proxy_pass相同
* 这样,当以后访问"/user"时,都会被发送到指定`upstream`中处理.